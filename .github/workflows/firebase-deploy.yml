# 파일 이름: .github/workflows/firebase-deploy.yml

name: Deploy to Firebase Hosting

# 언제 이 자동화를 실행할지 결정합니다.
on:
  push:
    branches:
      - main  # 'main' 브랜치에 코드가 푸시될 때마다 실행

# 실제 실행될 작업 내용입니다.
jobs:
  deploy:
    runs-on: ubuntu-latest
    steps:
      # 1. GitHub 저장소의 코드를 작업 공간으로 가져옵니다.
      - name: Checkout repository
        uses: actions/checkout@v4

      # 2. 1단계에서 등록한 비밀 키를 사용하여 Firebase에 배포합니다.
      - name: Deploy to Firebase Hosting
        uses: FirebaseExtended/action-hosting-deploy@v0
        with:
          repoToken: '${{ secrets.GITHUB_TOKEN }}'
          firebaseServiceAccount: '${{ secrets.FIREBASE_SERVICE_ACCOUNT }}' # 1단계에서 만든 비밀 키 이름
          projectId: sraieditor-20250711 # 배포할 당신의 프로젝트 ID
          channelId: live # 'live'는 실제 운영 사이트를 의미합니다.
